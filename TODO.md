## 功能

1.根据需求生成renpy脚本。

2.使用GUI界面，功能菜单有`添加台词`，`添加视频`，`添加选择界面`，`创建分支`，~~添加图像~~，`添加人物`，`添加立绘`，`添加动画`，`设置界面`。

3.文件结构仍跟之前一样

| script.rpy      | 剧情流程脚本         |
| --------------- | -------------------- |
| charadefine.rpy | 人物定义             |
| gui.rpy         | GUI界面              |
| image.rpy       | 图片定义             |
| mysc.rpy        | 自定义界面           |
| options.rpy     | 游戏设置             |
| screens.rpy     | 游戏界面             |
| ***tedian.rpy   | (天希项目独有)特典线 |
| transform.rpy   | 动画变换             |
| variants.rpy    | 变量定义             |

### 具体实现

#### 添加台词

- [x] 文本框：输入要添加的台词
- [x] 人物：说台词的人物名称
- [ ] 立绘：输入需要使用到的人物立绘(表情)【此功能可并入"下一步变换"】
- [ ] 立绘位置：选择需要对应立绘的放置位置【此功能可并入"下一步变换"】
- [ ] 背景图：选择背景图片(跳出资源管理器选择框)【此功能可并入"下一步变换"】
- [ ] 单击音效：点击执行下一步的音效【此功能可并入"下一步变换"】
- [ ] 下一步变换：此台词与下一处台词间的立绘、背景、BGM等变换方式，比如停止音效/音乐，立绘移动/消失，。如不选择则使用默认变换(平移、渐变)**【此功能可单独拆成一个功能菜单，具体待议】**

......

#### 添加视频

> $ renpy.movie_cutscene('audio/opening1.ogv')

添加音频流

- [ ] 选择视频路径并插入其中(格式必须为ogv)

......

#### 添加选择界面

> 使用callscreen切换

增加choice

- [ ] 添加选项：选项文本，需要选择跳转的分支
- [ ] 背景图片：选项界面对应背景图

......

#### 创建分支

> label NAME:

生成新的label标签(可理解为场景)

- [ ] 分支名：用于分支的选择(类似Tag标签，每个分支独有)
- [ ] 分支识别名：中文名称，用于使用者识别

#### *添加图像<u>(该功能存疑，在考虑到底要不要)</u>*

*将选择的图片文件移动到指定图片目录并从脚本读取*

*路径：选择图像当前所在路径*

#### 添加人物

> define tx = Character("天希",who_font="Gunshihei.ttf",who_color="#055584",who_outlines=[(absolute(1), "#ffffff", absolute(0), absolute(0))])

- [x] 人物中文名称
- [ ] 人物字体样式(大小，颜色，描边等)
- [x] 人物标识符：类似Tag标签，每个人物唯一
- [x] *人物立绘前缀(*可选)*：确定人物立绘图片的前缀

#### *添加立绘<u>(此功能具体实现待定)</u>*

#### 添加动画

> transform menu_move():

用于增加默认的transform效果，之后可以在添加台词的时候进行选择。

- [ ] 动画选择：选择需要的变换(可有多个变化，但在考虑要不要直接加入样板)
- [ ] 参数设置：设置此变换对应的参数

#### 设置界面

> options.rpy

设定编辑器的各种属性

- [ ] 默认项目路径(索引到`game`菜单当中)
- [ ] 默认变换(config.say_attribute_transition=dissolve)
- [ ] 打包方式
- [ ] ......